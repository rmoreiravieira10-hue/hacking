<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>System Console</title>
<style>
    body {
        background: #000;
        color: #0f0;
        font-family: "Consolas", monospace;
        padding: 20px;
    }

    #terminal {
        width: 90%;
        max-width: 900px;
        margin: auto;
        background: #050505;
        padding: 20px;
        border: 2px solid #0f0;
        box-shadow: 0 0 15px #0f0;
        height: 500px;
        overflow-y: auto;
        white-space: pre-line;
        font-size: 15px;
    }

    .red {
        color: #f00;
    }

    .yellow {
        color: #ff0;
    }

    .cyan {
        color: #0ff;
    }

    .magenta {
        color: #f0f;
    }

    .progress {
        color: #0f0;
        font-weight: bold;
    }
</style>
</head>
<body>

<div id="terminal"></div>

<script>
const terminal = document.getElementById("terminal");

function print(text, cls="", delay=50) {
    return new Promise(resolve => {
        let i = 0;
        const line = document.createElement("div");
        if (cls) line.className = cls;
        terminal.appendChild(line);

        function type() {
            line.textContent = text.slice(0, i);
            i++;
            if (i <= text.length) {
                setTimeout(type, delay);
                terminal.scrollTop = terminal.scrollHeight;
            } else {
                resolve();
            }
        }
        type();
    });
}

function randomNoise(lines=20, width=60) {
    let chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789#%&@*";
    let out = "";
    for (let i=0; i<lines; i++) {
        let line = "";
        for (let j=0; j<width; j++) {
            line += chars[Math.floor(Math.random()*chars.length)];
        }
        out += line + "\n";
    }
    return out;
}

async function start() {
    const pairs = {
        "Vieira": "Lara",
        "Rui": "Jota",
        "Xavi": "Vitoria",
        "Afonso": "Rafa",
        "Diogo": "[FILE CORRUPTED]",
        "Rafa": "Beatriz",
        "Jota": "Xavi",
        "Vitória": "Ana Gil",
        "Beatriz": "Isabel",
        "Lara": "Rui",
        "Isabel": "Diogo",
        "Ana Gil": "[FILE CORRUPTED]"
    };

    await print("Loading system modules...", "cyan");
    await print("Synchronizing components...", "cyan");
    await print("Checking integrity...", "cyan");
    await print("Initializing sequence...", "cyan");
    await print("Adjusting parameters...", "cyan");

    await print("\nProcessing...", "progress", 10);
    await print(randomNoise(40, 70), "", 0);

    await print("### ANOMALY DETECTED ###", "red", 5);
    await print("Reconstructing...", "progress", 10);

    await print(randomNoise(20, 65), "", 0);

    await print("\nReanalyzing data packets...\n", "cyan");

    for (let key in pairs) {
        await print(`${key} → `, "yellow", 10);

        if (pairs[key].includes("CORRUPTED")) {
            await print("[FILE CORRUPTED]", "red", 10);
            await print("### ANOMALY DETECTED ###", "red", 5);
        } else {
            let scrambled = pairs[key].split("").map(letter =>
                Math.random() > 0.2 ? letter : "#$%&?"[Math.floor(Math.random()*5)]
            ).join("");
            await print(scrambled, "green", 20);
        }
    }

    await print("\nSequence complete.", "magenta");
}

start();
</script>

</body>
</html>
